<script id="utils"  src="/res/js/utils.js"></script>
<script src="/res/js/htmldiff.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style type="text/css">
    	body{margin-top:20px;}


ins {
  text-decoration: none;
  background-color: #d4fcbc;
}

del {
  text-decoration: line-through;
  background-color: #fbb6c2;
  color: #555;
}

good {
    background-color: rgb(125, 213, 240);
    color: #555;
}

.chat-online {
    color: #34ce57
}

.chat-offline {
    color: #e4606d
}

.chat-messages {
    display: flex;
    flex-direction: column;
    height:92%;
    max-height: 92%;
    overflow-y: scroll
}

.chat-message-left,
.chat-message-right {
    display: flex;
    flex-shrink: 0
}

.chat-message-left {
    margin-right: auto
}

.chat-message-right {
    flex-direction: row-reverse;
    margin-left: auto
}
.py-3 {
    padding-top: 1rem!important;
    padding-bottom: 1rem!important;
}
.px-4 {
    padding-right: 1.5rem!important;
    padding-left: 1.5rem!important;
}
.flex-grow-0 {
    flex-grow: 0!important;
}
.border-top {

    border-top: 1px solid #dee2e6!important;
}
    </style>
<main class="content" style="height:100%">
<div class="container p-0" style="height:100%">
<h1 class="h3 mb-3"></h1>
<div class="card" style="height: 99%;">
<div class="row g-0" style="height: 80%;">
<div class="col-12 col-lg-5 col-xl-3 border-right">
<div class="px-4 d-none d-md-block">
<div class="d-flex align-items-center">
<div class="flex-grow-1">
<input type="text" class="form-control my-3" placeholder="Search...">
</div>
</div>
</div>
<a href="#" class="list-group-item list-group-item-action border-0">
<div class="badge bg-success float-right alarm"></div>
<div class="d-flex align-items-start">
<img src="https://bootdey.com/img/Content/avatar/avatar3.png" class="rounded-circle mr-1" alt="Vanessa Tucker" width="40" height="40">
<div class="flex-grow-1 ml-3">
Time tutor
<div class="small"><span class="fas fa-circle chat-online"></span> Online</div>
</div>
</div>
</a>
<hr class="d-block d-lg-none mt-1 mb-0">
</div>
<div class="col-12 col-lg-7 col-xl-9">
<div class="py-2 px-4 border-bottom d-none d-lg-block">
<div class="d-flex align-items-center py-1">
<div class="position-relative">
<img src="https://bootdey.com/img/Content/avatar/avatar3.png" class="rounded-circle mr-1" alt="Sharon Lessman" width="40" height="40">
</div>
<div class="flex-grow-1 pl-3">
<strong>Time tutor</strong>
<div class="text-muted small"><em>Tutor</em></div>
</div>
<div>
</div>
</div>
</div>
<div class="position-relative">
<div id="chattingArea" class="chat-messages p-4">
    <div id="sampleYou" class="chat-message-right pb-4" style="visibility: hidden">
        <div>
        <img src="https://bootdey.com/img/Content/avatar/avatar1.png" class="rounded-circle mr-1" alt="Chris Wood" width="40" height="40">
        <div class="text-muted small text-nowrap mt-2 time"></div>
        </div>
        <div class="flex-shrink-1 bg-light rounded py-2 px-3 mr-3">
        <div class="font-weight-bold mb-1">You</div>
        <div id="sampleYouText" > Lorem ipsum dolor sit amet, vis erat denique in, dicunt prodesset te vix.</div>
        </div>
    </div>
<div id="sampleTutor" class="chat-message-left pb-4" style="visibility: hidden;">
<div>
<img src="https://bootdey.com/img/Content/avatar/avatar3.png" class="rounded-circle mr-1" alt="Sharon Lessman" width="40" height="40">
<div class="text-muted small text-nowrap mt-2 time"></div>
</div>
<div class="flex-shrink-1 bg-light rounded py-2 px-3 ml-3">
<div  class="font-weight-bold mb-1">Time Tutor</div>
<div id="sampleTutorText">Sit meis deleniti eu, pri vidit meliore docendi ut, an eum erat animal commodo.</div>
</div>
<button style="display: none;" onclick="deleteQnA(this)" data="" class="btn btn-primary deleteBtn">Delete</button>
<div id ="correctRate" style="color:red"> </div>
</div>


</div>

<div class="flex-grow-0 py-3 px-4 border-top">
    <div class="input-group" id="qnaArea" style="text-align: center;">
        <input id="chatInput" type="text" style="padding:7px;border:1px solid darkgray; height:6%;width: 75%;border-radius: 7px;" placeholder="Type your message" onKeyPress="if( event.keyCode==13 ){sendAnswer();}">
        <button onclick="sendAnswer()"  class="btn btn-primary" style="width: 14%;">Send</button>
        <button onclick="changeTo('menu')" class="btn btn-primary" style="width: 7%;">X</button>
    </div>
    <div id="buttonMenueArea" style="text-align: center;">
        <button id="qnaMakingBtn" onclick="qnaMakingBtnClick()"class="btn btn-primary btn-lg mr-1 px-3"> Make QnA</button>
        <button id="reschedulingBtn" onclick="rescheduleBtnClick()" class="btn btn-info btn-lg mr-1 px-3 d-none d-md-inline-block">ReScheduleing Alarm</button>
        <button id="qnaBtn" onclick="qnaBtnClick()"class="btn btn-primary btn-lg mr-1 px-3"> QnA</button>
        <button id="guideBtn" onclick="guideBtnClick()" class="btn btn-light border btn-lg px-3">Guide</button>
    </div>

    <div id="qnaMakingArea"style="text-align: center;" >
        <input id="questionInput" type="text" class="form-control" placeholder="Type your Question" onKeyPress="if( event.keyCode==13 ){inputText();}">
        <input id="answerInput" style="margin-top: 10px;margin-bottom: 10px;" type="text" class="form-control" placeholder="Type your Answer" onKeyPress="if( event.keyCode==13 ){inputText();}">
        <button onclick="sendQnA()" class="btn btn-primary" style="width: 85%;">Send</button>
        <button onclick="changeTo('menu')" class="btn btn-primary" style="width: 10%;">X</button>
    </div>

    <div id="rescheduleArea" style="text-align: center;">
        <input class="btn timeText" style="width: 100px; border-color:darkgrey" placeholder="ex. 17:00"></input>
        <input class="btn timeText"style="width: 100px;border-color:darkgrey" placeholder="ex. 17:00"></input>
        <input class="btn timeText" style="width: 100px;border-color:darkgrey"placeholder="ex. 17:00"></input>
        <input class="btn timeText" style="width: 100px;border-color:darkgrey"placeholder="ex. 17:00"></input>
        <input class="btn timeText" style="width: 100px;border-color:darkgrey"placeholder="ex. 17:00"></input>
        <button onclick="sendTimeSet()" class="btn btn-primary" style="width: 50px;">OK</button>
        <button onclick="changeTo('menu')" class="btn btn-primary" style="width: 40px;border-color:darkgrey">X</button>
    </div>

</div>
</div>
</div>
</div>
</main>
<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
<script id="script1" src="/res/js/chat.js"></script>
<script id="script2" src="/res/js/tutorChat.js"></script>
<script>
    function init(){
        if (checkAuthToken())
            getPreviousMessage();
        else
            sayToGuest();
        changeTo("menu");
    }
    window.document.getElementById("script2").onload=init();

</script>